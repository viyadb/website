
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="In-Memory Analytical Database">
      
      
      
      
        <link rel="shortcut icon" href="../img/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.0">
    
    
      
        <title>Usage - ViyaDB</title>
      
    
    
      <script src="../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-b6a6d08807.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue-grey" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="ViyaDB" class="md-header-nav__button md-logo">
          
            
              <img src="../img/logo.svg" width="24" height="24">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Usage
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/viyadb/viyadb" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      viyadb/viyadb
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../img/logo.svg">
        
      
    </div>
    ViyaDB
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/viyadb/viyadb" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      viyadb/viyadb
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Usage
      </label>
    
    <a href="./" title="Usage" class="md-nav__link md-nav__link--active">
      Usage
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-db-instance" title="Configuring DB Instance" class="md-nav__link">
    Configuring DB Instance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-tables" title="Creating Tables" class="md-nav__link">
    Creating Tables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dimensions" title="Dimensions" class="md-nav__link">
    Dimensions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string-dimension" title="String Dimension" class="md-nav__link">
    String Dimension
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric-dimension" title="Numeric Dimension" class="md-nav__link">
    Numeric Dimension
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean-dimension" title="Boolean Dimension" class="md-nav__link">
    Boolean Dimension
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-and-microtime-dimensions" title="Time and Microtime Dimensions" class="md-nav__link">
    Time and Microtime Dimensions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics" title="Metrics" class="md-nav__link">
    Metrics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#value-metric" title="Value Metric" class="md-nav__link">
    Value Metric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count-metric" title="Count Metric" class="md-nav__link">
    Count Metric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitset-metric" title="Bitset Metric" class="md-nav__link">
    Bitset Metric
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-ingestion" title="Data Ingestion" class="md-nav__link">
    Data Ingestion
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loading-from-tsv-files" title="Loading from TSV files" class="md-nav__link">
    Loading from TSV files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querying" title="Querying" class="md-nav__link">
    Querying
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aggregate-query" title="Aggregate Query" class="md-nav__link">
    Aggregate Query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#column-selector" title="Column Selector" class="md-nav__link">
    Column Selector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-filters" title="Query Filters" class="md-nav__link">
    Query Filters
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#value-operator-filter" title="Value Operator Filter" class="md-nav__link">
    Value Operator Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negation-filter" title="Negation Filter" class="md-nav__link">
    Negation Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inclusion-filter" title="Inclusion Filter" class="md-nav__link">
    Inclusion Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composite-filter" title="Composite Filter" class="md-nav__link">
    Composite Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter-example" title="Filter Example" class="md-nav__link">
    Filter Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-results" title="Sorting Results" class="md-nav__link">
    Sorting Results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-query" title="Search Query" class="md-nav__link">
    Search Query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-queries" title="Metadata Queries" class="md-nav__link">
    Metadata Queries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-metadata-query" title="Database Metadata Query" class="md-nav__link">
    Database Metadata Query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-metadata-query" title="Table Metadata Query" class="md-nav__link">
    Table Metadata Query
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../samples/" title="Samples" class="md-nav__link">
      Samples
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../clustering/" title="Clustering" class="md-nav__link">
      Clustering
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-db-instance" title="Configuring DB Instance" class="md-nav__link">
    Configuring DB Instance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-tables" title="Creating Tables" class="md-nav__link">
    Creating Tables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dimensions" title="Dimensions" class="md-nav__link">
    Dimensions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string-dimension" title="String Dimension" class="md-nav__link">
    String Dimension
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric-dimension" title="Numeric Dimension" class="md-nav__link">
    Numeric Dimension
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean-dimension" title="Boolean Dimension" class="md-nav__link">
    Boolean Dimension
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-and-microtime-dimensions" title="Time and Microtime Dimensions" class="md-nav__link">
    Time and Microtime Dimensions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics" title="Metrics" class="md-nav__link">
    Metrics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#value-metric" title="Value Metric" class="md-nav__link">
    Value Metric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count-metric" title="Count Metric" class="md-nav__link">
    Count Metric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitset-metric" title="Bitset Metric" class="md-nav__link">
    Bitset Metric
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-ingestion" title="Data Ingestion" class="md-nav__link">
    Data Ingestion
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loading-from-tsv-files" title="Loading from TSV files" class="md-nav__link">
    Loading from TSV files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querying" title="Querying" class="md-nav__link">
    Querying
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aggregate-query" title="Aggregate Query" class="md-nav__link">
    Aggregate Query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#column-selector" title="Column Selector" class="md-nav__link">
    Column Selector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-filters" title="Query Filters" class="md-nav__link">
    Query Filters
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#value-operator-filter" title="Value Operator Filter" class="md-nav__link">
    Value Operator Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negation-filter" title="Negation Filter" class="md-nav__link">
    Negation Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inclusion-filter" title="Inclusion Filter" class="md-nav__link">
    Inclusion Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composite-filter" title="Composite Filter" class="md-nav__link">
    Composite Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter-example" title="Filter Example" class="md-nav__link">
    Filter Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-results" title="Sorting Results" class="md-nav__link">
    Sorting Results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-query" title="Search Query" class="md-nav__link">
    Search Query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-queries" title="Metadata Queries" class="md-nav__link">
    Metadata Queries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-metadata-query" title="Database Metadata Query" class="md-nav__link">
    Database Metadata Query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-metadata-query" title="Table Metadata Query" class="md-nav__link">
    Table Metadata Query
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h1>
<p>The following section describes how to configure and run a ViyaDB instance on a single node.</p>
<h2 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h2>
<p>Interaction with ViyaDB instance is performed using REST API. Sometimes, it doesn't look like REST (See <a href="#data-ingestion">Data Ingestion</a> or <a href="#querying">Querying</a> sections below), but it can always be thought as a resource you're sending a request to is an action itself.</p>
<h2 id="configuring-db-instance">Configuring DB Instance<a class="headerlink" href="#configuring-db-instance" title="Permanent link">&para;</a></h2>
<p>Store descriptor preresents a configuration file of a single ViyaDB instance. The format is the following:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;query_threads&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;cpu&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">],</span>
  <span class="nt">&quot;workers&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;http_port&quot;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
  <span class="nt">&quot;tables&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">],</span>
  <span class="nt">&quot;statsd&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;host&quot;</span><span class="p">:</span>  <span class="err">...</span> <span class="p">,</span>
    <span class="nt">&quot;port&quot;</span><span class="p">:</span> <span class="mi">8125</span><span class="p">,</span>
    <span class="nt">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;viyadb.%h.&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;supervise&quot;</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>query_threads - Optional number of threads that will serve queries, defaults to 1.</li>
<li>cpu_list - Optional list of zero-based CPU indices that this process will use, defaults to all available CPUs.</li>
<li>workers - Optional number of workers to start, defaults to the number of available CPUs.</li>
<li>port - All workers will be assigned a different port number, starting from this one (defaults to 5000).</li>
<li>tables - List of <a href="#creating-tables">table descriptors</a>.</li>
<li>statsd - If specified, some metrics will be reported to the given Statsd host.</li>
<li>supervise - Optionally, run a supervisor on top of worker processes. This setting must be <code>true</code> if number of workers is greater than 1.</li>
</ul>
<h2 id="creating-tables">Creating Tables<a class="headerlink" href="#creating-tables" title="Permanent link">&para;</a></h2>
<p>Table descriptors can be either a part of <a href="#configuring-db-instance">store descriptor</a>, or they can be created on-demand using REST API.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;table name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">],</span>
  <span class="nt">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">],</span>
  <span class="nt">&quot;watch&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;directory&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;path to files&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;extensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;.tsv&quot;</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>name - Table name</li>
<li>dimensions - List of <a href="#dimensions">dimension descriptors</a></li>
<li>metrics - List of <a href="#metrics">metric descriptors</a></li>
<li>watch - Optional configuration that enables watching directory for new files, and loading them automatically.</li>
</ul>
<p>To create a table, issue the following command:</p>
<div class="codehilite"><pre><span></span>curl --data-binary @table.json http://&lt;viyadb-host&gt;:&lt;viyadb-port&gt;/tables
</pre></div>


<div class="admonition note">
<p class="admonition-title">Explanation in SQL terms</p>
<p>An analogy can be drawn between ViyaDB tables and SQL aggregation queries.
For example, consider the following SQL statement:</p>
<p><code>sql
SELECT app_id, SUM(revenue) FROM events GROUP BY app_id</code></p>
<p>This example translates to ViyaDB table <code>events</code> that has a single dimension <code>app_id</code> and a single metric <code>revenue</code>.</p>
</div>
<h3 id="dimensions">Dimensions<a class="headerlink" href="#dimensions" title="Permanent link">&para;</a></h3>
<p>There are four types of dimensions:</p>
<ul>
<li>String</li>
<li>Numeric</li>
<li>Boolean</li>
<li>Time</li>
<li>Microtime</li>
</ul>
<h4 id="string-dimension">String Dimension<a class="headerlink" href="#string-dimension" title="Permanent link">&para;</a></h4>
<p>String dimension is a basic one, and it's used to describe things like: country, user agent, event name, etc.
Description format is as follows:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;dimension name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
  <span class="nt">&quot;length&quot;</span><span class="p">:</span> <span class="err">...</span> <span class="p">,</span>
  <span class="nt">&quot;cardinality&quot;</span><span class="p">:</span> <span class="err">...</span> <span class="p">,</span>
  <span class="nt">&quot;cardinality_guard&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;other dimension&gt;&quot;</span><span class="p">,</span> <span class="err">...</span> <span class="p">],</span>
    <span class="nt">&quot;limit&quot;</span><span class="p">:</span>  <span class="err">...</span> 
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>name - Column name</li>
<li>type - Must be <code>string</code> (or can be omitted, since it's default)</li>
<li>length - Optionally, specify maximum length for a column value (values exceeding this limit will be stripped).</li>
<li>cardinality - Number of distinct values this column holds (optional, but it's recommended to set)</li>
</ul>
<p><code>cardinality_guard</code> allows defining a rule of how many distinct values is it possible to store per set
of other dimensions. For example, we can decide to store at most 200 distinct event names per event date, per country.
All other events will be accounted still, but they will be marked as <code>__exceeded</code>. This is really important option,
especially when incoming events are not controlled by yourself, and you don't want your database memory to explode because
someone decided to sent some random values.</p>
<h4 id="numeric-dimension">Numeric Dimension<a class="headerlink" href="#numeric-dimension" title="Permanent link">&para;</a></h4>
<p>This dimension allows to store numbers as a non-metric column. Column description format is
the following:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;dimension name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;type&gt;&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>name - Column name</li>
<li>type - Numeric type (see below)</li>
</ul>
<p>Supported numeric types are:</p>
<ul>
<li>byte (-128 to 127)</li>
<li>ubyte (0 to 255)</li>
<li>short (-32768 to 32767)</li>
<li>ushort (0 to 65535)</li>
<li>int (-2147483648 to 2147483647)</li>
<li>uint (0 to 4294967295)</li>
<li>long (-9223372036854775808 to 9223372036854775807)</li>
<li>ulong (0 to 18446744073709551615)</li>
<li>float (floating point 32 bit number)</li>
<li>double (floating point 64 bit number)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Deprecation note</p>
<p>Previously, only <code>uint</code> and <code>ulong</code> types were supported through <code>numeric</code> and <code>max</code> specifications.
You should upgrade to the new numeric types if you're still using the old way.</p>
</div>
<h4 id="boolean-dimension">Boolean Dimension<a class="headerlink" href="#boolean-dimension" title="Permanent link">&para;</a></h4>
<p>Stores either boolean value of 'true' or 'false'.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;dimension name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>name - Column name</li>
<li>type - Must be <code>boolean</code>.</li>
</ul>
<h4 id="time-and-microtime-dimensions">Time and Microtime Dimensions<a class="headerlink" href="#time-and-microtime-dimensions" title="Permanent link">&para;</a></h4>
<p>This dimension allows to store UTC time. The difference between the two is that <code>time</code> precision is up to seconds, while
<code>microtime</code> precision is up to microseconds.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;dimension name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;time|microtime&quot;</span><span class="p">,</span>
  <span class="nt">&quot;format&quot;</span><span class="p">:</span>  <span class="err">...</span> <span class="p">,</span>
  <span class="nt">&quot;granularity&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;time unit&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;rollup_rules&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>name - Column name</li>
<li>type - The type is set according to the required precision</li>
<li>format - See below</li>
<li>granularity - When specified, this time granularity will be used for rolling up events during data ingestion</li>
<li>rollup_rules - Rules for dynamic period based rollup</li>
</ul>
<p>Parse format is one of the following:</p>
<ul>
<li>posix - Input time is in POSIX time format (seconds since UNIX epoch)</li>
<li>millis - Input time is in milliseconds since UNIX epoch</li>
<li>micros - Input time is in microseconds since UNIX epoch</li>
<li>Any other string that uses <a href="http://man7.org/linux/man-pages/man3/strptime.3.html">strptime</a> modifiers for describing format</li>
</ul>
<p>Supported time units:</p>
<ul>
<li>year</li>
<li>month</li>
<li>week</li>
<li>day</li>
<li>hour</li>
<li>minute</li>
<li>second</li>
</ul>
<p>Dynamic rollup rules are defined using the following format:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;after&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;num&gt; &lt;time unit&gt;&quot;</span>
  <span class="s2">&quot;granularity&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;time unit&gt;&quot;</span>
<span class="p">}</span>
</pre></div>


<p>For example, if the rules are:</p>
<div class="codehilite"><pre><span></span><span class="p">[{</span>
   <span class="nt">&quot;after&quot;</span><span class="p">:</span> <span class="s2">&quot;3 month&quot;</span><span class="p">,</span>
   <span class="nt">&quot;granularity&quot;</span><span class="p">:</span> <span class="s2">&quot;week&quot;</span>
 <span class="p">},</span> <span class="p">{</span>
   <span class="nt">&quot;after&quot;</span><span class="p">:</span> <span class="s2">&quot;1 year&quot;</span><span class="p">,</span>
   <span class="nt">&quot;granularity&quot;</span><span class="p">:</span> <span class="s2">&quot;month&quot;</span>
<span class="p">}]</span>
</pre></div>


<p>Then events time column will change granularity dynamically to <code>weekly</code> after 3 months, to <code>monthly</code> after 1 year.</p>
<h3 id="metrics">Metrics<a class="headerlink" href="#metrics" title="Permanent link">&para;</a></h3>
<p>There are three supported metric types:</p>
<ul>
<li>Value</li>
<li>Count</li>
<li>Bitset</li>
</ul>
<h4 id="value-metric">Value Metric<a class="headerlink" href="#value-metric" title="Permanent link">&para;</a></h4>
<p>Value metric is a numeric value combined with an aggregation function.  List of supported numeric types:</p>
<ul>
<li>byte (-128 to 127)</li>
<li>ubyte (0 to 255)</li>
<li>short (-32768 to 32767)</li>
<li>ushort (0 to 65535)</li>
<li>int (-2147483648 to 2147483647)</li>
<li>uint (0 to 4294967295)</li>
<li>long (-9223372036854775808 to 9223372036854775807)</li>
<li>ulong (0 to 18446744073709551615)</li>
<li>float (floating point 32 bit number)</li>
<li>double (floating point 64 bit number)</li>
</ul>
<p>Supported functions:</p>
<ul>
<li>sum</li>
<li>max</li>
<li>min</li>
<li>avg</li>
</ul>
<p>The format of defining a value metric is the following:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;metric name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;value_type&gt;_&lt;function&gt;&quot;</span>
<span class="p">}</span>
</pre></div>


<h4 id="count-metric">Count Metric<a class="headerlink" href="#count-metric" title="Permanent link">&para;</a></h4>
<p>This type of metric just counts number of incoming rows. To define it, use the following format:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;metric name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;count&quot;</span>
<span class="p">}</span>
</pre></div>


<h4 id="bitset-metric">Bitset Metric<a class="headerlink" href="#bitset-metric" title="Permanent link">&para;</a></h4>
<p>This metric allows storing numeric values in a memory optimized set structure, which supports
operations like <code>intersect</code> and <code>union</code>. This makes possible to run queries like: "what is a value
cardinality for a given set of dimensions filtered by a perdicate?". For instance: counting unique
mobile app users, which installed an application on last month split by country.</p>
<p>Metric format:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;metric name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bitset&quot;</span>
<span class="p">}</span>
</pre></div>


<h2 id="data-ingestion">Data Ingestion<a class="headerlink" href="#data-ingestion" title="Permanent link">&para;</a></h2>
<h3 id="loading-from-tsv-files">Loading from TSV files<a class="headerlink" href="#loading-from-tsv-files" title="Permanent link">&para;</a></h3>
<p>Save load descriptor into <code>load.json</code> file:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;target_table&quot;</span><span class="p">,</span>
  <span class="nt">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;tsv&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
  <span class="nt">&quot;columns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="err">...</span><span class="p">],</span>
  <span class="nt">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/data.tsv&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Post this load descriptor to a running ViyaDB instance:</p>
<div class="codehilite"><pre><span></span>curl --data-binary @load.json http://&lt;viyadb-host&gt;:&lt;viyadb-port&gt;/load
</pre></div>


<p>Important notes:</p>
<ul>
<li>The <code>data.tsv</code> file must be accessible to the ViyaDB instance you're loading the data into.</li>
<li>If <code>columns</code> parameter is not provided, order of columns in .tsv file must be as follows: first dimensions, then metrics as they appear in the table descriptor.</li>
</ul>
<h2 id="querying">Querying<a class="headerlink" href="#querying" title="Permanent link">&para;</a></h2>
<p>Supported query types are:</p>
<ul>
<li>Aggregate</li>
<li>Search</li>
</ul>
<p>To query, a query request must be submitted using POST method:</p>
<div class="codehilite"><pre><span></span>curl --data-binary @query.json http://&lt;viyadb-host&gt;:&lt;viyadb-port&gt;/query
</pre></div>


<p>Read further to learn more on different query types.</p>
<h3 id="aggregate-query">Aggregate Query<a class="headerlink" href="#aggregate-query" title="Permanent link">&para;</a></h3>
<p>This kind of query aggregates records selected using filter predicate, and returns them to user (optionally, sorted and/or limited). It's important to know that aggregation is done in a memory, therefore all the result set must fit in.</p>
<p>Query format:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;aggregate&quot;</span><span class="p">,</span>
  <span class="nt">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;table name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;select&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">],</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span>  <span class="err">...</span> <span class="p">,</span>
  <span class="nt">&quot;sort&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">]</span> <span class="p">,</span>
  <span class="nt">&quot;skip&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>table - Table name</li>
<li>select - List of parameters describing how to select a column (see below)</li>
<li>filter - Fitler description (see below)</li>
<li>sort - Optional result sorting configuration (see below)</li>
<li>skip - Optionally, skip this number of output records</li>
<li>limit - Optionally, limit result set size to this number</li>
</ul>
<h4 id="column-selector">Column Selector<a class="headerlink" href="#column-selector" title="Permanent link">&para;</a></h4>
<p>Column is either dimension or metric. The format of selecting either of them is the following:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;column name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;time format&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;granularity&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;time granularity&gt;&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>column - Dimension or metric name</li>
</ul>
<p>Time column has two additional optional parameters:</p>
<ul>
<li>format - Time output format (check <a href="http://man7.org/linux/man-pages/man3/strptime.3.html">strptime</a> documentation for available modifiers). By default, UTC epoch timestamp will be sent</li>
<li>granularity - Rollup results by this time unit (see <a href="#time-and-microtime-dimensions">time dimension</a> configuration for supported time units)</li>
</ul>
<h4 id="query-filters">Query Filters<a class="headerlink" href="#query-filters" title="Permanent link">&para;</a></h4>
<p>Filter is one of mandatory parameters in a query, which allows skipping irrelevant records. There are four different filter types.</p>
<h5 id="value-operator-filter">Value Operator Filter<a class="headerlink" href="#value-operator-filter" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;filter operator&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;column name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;filter value&gt;&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>op - Filter kind specified by operator</li>
<li>column - Dimension or metric name</li>
<li>value - Value that filter operates on</li>
</ul>
<p>Supported operators are:</p>
<ul>
<li>eq - Equals</li>
<li>ne - Not equals</li>
<li>lt - Less than</li>
<li>le - Less or equals to</li>
<li>gt - Greater than</li>
<li>ge - Greater or equals to</li>
</ul>
<h5 id="negation-filter">Negation Filter<a class="headerlink" href="#negation-filter" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;not&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span>  <span class="err">...</span> 
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>op - Must be <code>not</code></li>
<li>filter - Other filter descriptor</li>
</ul>
<h5 id="inclusion-filter">Inclusion Filter<a class="headerlink" href="#inclusion-filter" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
  <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;column name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="err">...</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>op - Must be <code>in</code></li>
<li>column - Dimension or metric name</li>
<li>values - List of values to filter on</li>
</ul>
<h5 id="composite-filter">Composite Filter<a class="headerlink" href="#composite-filter" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;composition operator&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="err">...</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>Parameters:</p>
<ul>
<li>op - One of composition operators: <code>or</code>, <code>and</code></li>
<li>filters - List of other filters to compose</li>
</ul>
<h5 id="filter-example">Filter Example<a class="headerlink" href="#filter-example" title="Permanent link">&para;</a></h5>
<p>Below is an example of using different filter types:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;aggregate&quot;</span><span class="p">,</span>
  <span class="nt">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span>
  <span class="nt">&quot;select&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;install_date&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;ad_network&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;install_country&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;installs_count&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;launches_count&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;inapps_count&quot;</span><span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="nt">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;app_id&quot;</span><span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;com.teslacoilsw.notifier&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;ge&quot;</span><span class="p">,</span> <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;install_date&quot;</span><span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-01-01&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;lt&quot;</span><span class="p">,</span> <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;install_date&quot;</span><span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-01-30&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;install_country&quot;</span><span class="p">,</span> <span class="nt">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;US&quot;</span><span class="p">,</span> <span class="s2">&quot;IL&quot;</span><span class="p">,</span> <span class="s2">&quot;RU&quot;</span><span class="p">]}</span>
  <span class="p">]}</span>
<span class="p">}</span>
</pre></div>


<h4 id="sorting-results">Sorting Results<a class="headerlink" href="#sorting-results" title="Permanent link">&para;</a></h4>
<p>You can ask to sort output results by set of columns, and specify sort order on each of them. Column sort configuration goes as follows:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;column&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;column name&gt;&quot;</span><span class="p">,</span>
   <span class="nt">&quot;ascending&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="err">|</span><span class="kc">false</span>
<span class="p">}</span>
</pre></div>


<p><code>ascending</code> parameter can be ommitted, in this case the sort order will be descending. </p>
<h3 id="search-query">Search Query<a class="headerlink" href="#search-query" title="Permanent link">&para;</a></h3>
<p>This query type retrieves dimension values by a given set of filters. This feature can come in handy when implementing a field values type assist, when developing an analytics user interface filter.</p>
<p>The basic format is the following:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;search&quot;</span><span class="p">,</span>
  <span class="nt">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;table name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dimension&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;dimension name&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;term&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;search term&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;filter&quot;</span><span class="p">:</span>  <span class="err">...</span>
<span class="p">}</span>
</pre></div>


<h3 id="metadata-queries">Metadata Queries<a class="headerlink" href="#metadata-queries" title="Permanent link">&para;</a></h3>
<p>There are several endpoints that can be used for retreiving information about database status.</p>
<h4 id="database-metadata-query">Database Metadata Query<a class="headerlink" href="#database-metadata-query" title="Permanent link">&para;</a></h4>
<p>The following query returns basic information about the database:</p>
<div class="codehilite"><pre><span></span>curl http://&lt;viyadb-host&gt;:&lt;viyadb-port&gt;/database/meta
</pre></div>


<h4 id="table-metadata-query">Table Metadata Query<a class="headerlink" href="#table-metadata-query" title="Permanent link">&para;</a></h4>
<p>To see all available table fields, their types as long as some basic statistics
use the following query:</p>
<div class="codehilite"><pre><span></span>curl http://&lt;viyadb-host&gt;:&lt;viyadb-port&gt;/tables/&lt;table name&gt;/meta
</pre></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../samples/" title="Samples" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Samples
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/viyadb" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/viyadb" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/18228559" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="mailto:michael@viyadb.com" class="md-footer-social__link fa fa-envelope"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-f3ab9e5ff8.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src=n,i.parentNode.insertBefore(c,i)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-23508932-8","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>